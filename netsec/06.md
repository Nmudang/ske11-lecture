# Topics review

- Cryptography
  - Symmetrical cryptosystem - Used in encrypting stuff
  - Asymmetrical cryptosystem - Digital signature, digital certificates
- Public Key Infrastructure
  - Certificate Authority
  - Secure Key Exchange

# Key distribution

- In symmetrical cryptosystem, the key needs to be distributed to all participants.
  - If each participants has a pair, a lot of pairs are needed
  - When receiving a message, it can be hard to identify the correct key to use as well

## Public key encryption

Analogy:

- Receiver provide the padlock to sender beforehand
- Sender use the padlock to lock the briefcase. Only the receiver have the key

Example:

- Public key = 4, private key = 1/4, message M = 5
- Encrypting: M * 4 = 20
- Decrypting: 20 * 1/4 = 4

As public key encryption is slower, hybrid encryption is often used.

- The handshake is done in public key encryption to authenticate
- A "session key" is negotiated in public key encryption
- Session key is then used to communicate using symmetrical encryption

## Digital signature

Digital signature use public key encryption to authenticate documents. Which means that:

- It is from the claimed sender (Authentication)
- It is not altered (Integrity)

## Hash Function

Digital signature is created over the hash of the document to reduce the size.

- Original file is hashed
- The hash is encrypted with private key
- Receiver can verify by decrypting with the public key and check the hash

## Key identity association

If we receive a public key, how can we sure that the public key belongs to the claimed person.

The web of trust (WOT) model can be used. We trust A, A trust B, therefore B can be trusted. It is used in PGP.

The public key infrastructure (PKI) model is used in the internet. There is a hierachy of trust. The topmost object is called "trust root" or root certificate authority (CA).

A certificate contains the name of the claimed identity, and their key. It also needs a signature from the issuer. A common format for certificate is called X.509.

To validate a certificate, the leaf certificate is verified with their issuer until we hit root CA. The root CA is signed by itself (self-signing)

# Message authentication code

Hash cannot be used to authenticate message. It can be generated by anyone.

MAC both authenticate and protect the integrity of the message.

## Hash functions

Hash make data of any size become a fixed size value.

- Non-cryptographic
  - CRC
  - Hash function
    - xxHash
	- MurmurHash
    - City hash
- Cryptographic
  - Unkeyed
    - MD5, SHA1, SHA2, SHA3, BLAKE2
  - Keyed
    - HMAC (Hash-based MAC)

Hash can be used in password storage.
